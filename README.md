# Mongoose Wizard Project

This project uses at its core the [Mongoose Networking library](https://mongoose.ws/?utm_source=snoopy&utm_medium=st&utm_campaign=post111), which implements the MQTT protocol, along with many other networking features and protocols. It is ideal for embedded devices, including the STM32 devices (F4/F7/H7/H5 families).

The purpose of this project is to provide a simple usage of the Mongoose library integrated with the CubeIDE and FreeRTOS environments. It runs on the Nucleo-H743ZG board. This project uses Mongoose's own TCP/IP networking stack, which is a more lightweight version compared to LwIP.

This project is generated by Mongoose Wizard, https://mongoose.ws/wizard/
Mongoose Wizard is a visual web dashboard builder for embedded devices. It is a no-code tool integrated with the Mongoose library. You can design your UI by dragging and dropping components like buttons and graphs, and link them directly to variables in your C++ code. The Wizard generates all the necessary project files for you.

## Build and flash

**Step 1. Download generated project to your workstation**

Click on the "Generate" button to download the project to your workstation

**Step 2. Build and run the project**
- If your target IDE is CubeIDE, then start Cube IDE (use Cube 1.16.0 or later), then:
  1. Choose File / Import
  2. Choose "Existing Projects into Workspace", click Next,
  3. Click on "Directory", choose dir with generated files, click Finish
- If your target IDE is MCUXpresso, follow instructions for Cube IDE above
- If your target IDE is Arduino, open `wizard.ino` in the Arduino IDE
- If your target IDE is other - follow your IDE's guide

## Copying functionality to an existing firmware

In order to move this functionality to some existing firmware code, perform
the following steps:
1. Copy the `mongoose/` folder to your project
2. Edit the `mongoose/mongoose_config.h` file to adopt for your environment.
   See [Build Options](https://mongoose.ws/documentation/#build-options)
   for details
3. Add `mongoose/` to your include paths, and `mongoose/*.c` to source files.
   This depends on your IDE
4. Add the following to your code (e.g. to the `main()` function):

```c
#include "mongoose_glue.h"

...
mongoose_init();

// This blocks forever. Put this at the end of main(),
// or in a separate RTOS task. Give that task 8k stack space.
for (;;) {
  mongoose_poll();
}
```

For Ethernet hardware details, check [this tutorial](https://mongoose.ws/documentation/tutorials/hardware/)

## OTA firmware update

This feature uses binary images
- [Tutorial](https://mongoose.ws/documentation/tutorials/firmware-update/)

## Documentation and Tutorials

- [Tutorials](https://mongoose.ws/documentation/#tutorials)
- [Mongoose User Guide](https://mongoose.ws/documentation/)
